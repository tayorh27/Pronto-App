(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{LzQz:function(e,t,i){"use strict";i.r(t),i.d(t,"SettingsModule",(function(){return z}));var c=i("tyNb"),n=i("ofXK"),o=i("3Pt+"),s=i("ZAI4"),a=i("1kSV"),l=i("P9ut"),b=i("4WDQ"),r=i("Wcq6"),d=(i("5x/H"),i("PSD3")),u=i.n(d),f=i("QebF"),p=i("WONP"),h=i("fXoL"),v=i("bTqV"),m=i("kmnG"),g=i("d3UM"),U=i("FKr1"),V=i("qFsG"),C=["role"],y=["user"];function M(e,t){if(1&e){var i=h.Wb();h.Vb(0,"td",18),h.Vb(1,"button",28),h.fc("click",(function(){h.Bc(i);var e=h.jc().$implicit;return h.jc(4).editRole(e)})),h.Vb(2,"i",16),h.Mc(3,"edit"),h.Ub(),h.Ub(),h.Vb(4,"button",29),h.fc("click",(function(){h.Bc(i);var e=h.jc().$implicit;return h.jc(4).deleteRole(e[1],e[2])})),h.Vb(5,"i",16),h.Mc(6,"close"),h.Ub(),h.Ub(),h.Ub()}if(2&e){var c=h.jc().$implicit;h.Cb(1),h.Fb("btn btn-success ",c[4],""),h.Cb(3),h.Fb("btn btn-danger ",c[4],"")}}function w(e,t){if(1&e&&(h.Vb(0,"tr"),h.Vb(1,"td",24),h.Mc(2),h.Ub(),h.Vb(3,"td"),h.Mc(4),h.Ub(),h.Vb(5,"td"),h.Mc(6),h.Ub(),h.Kc(7,M,7,6,"td",27),h.Ub()),2&e){var i=t.$implicit;h.Cb(2),h.Nc(i[0]),h.Cb(2),h.Nc(i[2]),h.Cb(2),h.Nc(i[3]),h.Cb(1),h.pc("ngIf","Administrator"!=i[2])}}function R(e,t){if(1&e&&(h.Vb(0,"div",22),h.Vb(1,"table",23),h.Vb(2,"thead"),h.Vb(3,"tr"),h.Vb(4,"th",24),h.Mc(5),h.Ub(),h.Vb(6,"th"),h.Mc(7),h.Ub(),h.Vb(8,"th"),h.Mc(9),h.Ub(),h.Vb(10,"th",25),h.Mc(11),h.Ub(),h.Ub(),h.Ub(),h.Vb(12,"tbody"),h.Kc(13,w,8,4,"tr",26),h.Ub(),h.Ub(),h.Ub()),2&e){var i=h.jc(3);h.Cb(5),h.Nc(i.tableData1.headerRow[0]),h.Cb(2),h.Nc(i.tableData1.headerRow[1]),h.Cb(2),h.Nc(i.tableData1.headerRow[2]),h.Cb(2),h.Nc(i.tableData1.headerRow[3]),h.Cb(2),h.pc("ngForOf",i.tableData1.dataRows)}}function k(e,t){if(1&e){var i=h.Wb();h.Vb(0,"div",12),h.Vb(1,"div",13),h.Vb(2,"div",14),h.Vb(3,"div",15),h.Vb(4,"i",16),h.Mc(5,"assignment"),h.Ub(),h.Ub(),h.Vb(6,"h4",17),h.Mc(7,"User Roles"),h.Ub(),h.Ub(),h.Vb(8,"div",18),h.Vb(9,"button",19),h.fc("click",(function(){return h.Bc(i),h.jc(2).addRole()})),h.Vb(10,"i",16),h.Mc(11,"add"),h.Ub(),h.Ub(),h.Ub(),h.Vb(12,"div",20),h.Kc(13,R,14,5,"div",21),h.Ub(),h.Ub(),h.Ub()}if(2&e){var c=h.jc(2);h.Cb(13),h.pc("ngIf",c.tableData1)}}function A(e,t){1&e&&(h.Vb(0,"ngb-tab",11),h.Kc(1,k,14,1,"ng-template",8),h.Ub())}function _(e,t){if(1&e){var i=h.Wb();h.Vb(0,"button",29),h.fc("click",(function(){h.Bc(i);var e=h.jc(2).$implicit;return h.jc(4).deleteUser(e)})),h.Vb(1,"i",16),h.Mc(2,"close"),h.Ub(),h.Ub()}if(2&e){var c=h.jc(2).$implicit;h.Fb("btn btn-danger ",c[9],"")}}function B(e,t){if(1&e){var i=h.Wb();h.Vb(0,"td",18),h.Vb(1,"button",28),h.fc("click",(function(){h.Bc(i);var e=h.jc().$implicit;return h.jc(4).editUser(e)})),h.Vb(2,"i",16),h.Mc(3,"edit"),h.Ub(),h.Ub(),h.Kc(4,_,3,3,"button",36),h.Ub()}if(2&e){var c=h.jc().$implicit,n=h.jc(4);h.Cb(1),h.Fb("btn btn-success ",c[9],""),h.Cb(3),h.pc("ngIf","Administrator"===n._role)}}function S(e,t){if(1&e&&(h.Vb(0,"tr"),h.Vb(1,"td",24),h.Mc(2),h.Ub(),h.Vb(3,"td"),h.Vb(4,"div",33),h.Vb(5,"div",34),h.Qb(6,"img",35),h.Ub(),h.Ub(),h.Ub(),h.Vb(7,"td"),h.Mc(8),h.Ub(),h.Vb(9,"td"),h.Mc(10),h.Ub(),h.Vb(11,"td"),h.Mc(12),h.Ub(),h.Vb(13,"td"),h.Mc(14),h.Ub(),h.Vb(15,"td",25),h.Mc(16),h.Ub(),h.Kc(17,B,5,4,"td",27),h.Ub()),2&e){var i=t.$implicit;h.Cb(2),h.Nc(i[0]),h.Cb(4),h.qc("src",i[1],h.Dc),h.Cb(2),h.Nc(i[3]),h.Cb(2),h.Nc(i[4]),h.Cb(2),h.Nc(i[5]),h.Cb(2),h.Nc(i[6]),h.Cb(2),h.Nc(i[8]),h.Cb(1),h.pc("ngIf","Administrator"!=i[6])}}function D(e,t){if(1&e&&(h.Vb(0,"div",22),h.Vb(1,"table",23),h.Vb(2,"thead"),h.Vb(3,"tr"),h.Vb(4,"th",24),h.Mc(5),h.Ub(),h.Vb(6,"th"),h.Mc(7),h.Ub(),h.Vb(8,"th"),h.Mc(9),h.Ub(),h.Vb(10,"th"),h.Mc(11),h.Ub(),h.Vb(12,"th"),h.Mc(13),h.Ub(),h.Vb(14,"th"),h.Mc(15),h.Ub(),h.Vb(16,"th",25),h.Mc(17),h.Ub(),h.Vb(18,"th",25),h.Mc(19),h.Ub(),h.Ub(),h.Ub(),h.Vb(20,"tbody"),h.Kc(21,S,18,8,"tr",26),h.Ub(),h.Ub(),h.Ub()),2&e){var i=h.jc(3);h.Cb(5),h.Nc(i.tableData2.headerRow[0]),h.Cb(2),h.Nc(i.tableData2.headerRow[1]),h.Cb(2),h.Nc(i.tableData2.headerRow[2]),h.Cb(2),h.Nc(i.tableData2.headerRow[3]),h.Cb(2),h.Nc(i.tableData2.headerRow[4]),h.Cb(2),h.Nc(i.tableData2.headerRow[5]),h.Cb(2),h.Nc(i.tableData2.headerRow[6]),h.Cb(2),h.Nc(i.tableData2.headerRow[7]),h.Cb(2),h.pc("ngForOf",i.tableData2.dataRows)}}function N(e,t){if(1&e){var i=h.Wb();h.Vb(0,"div",12),h.Vb(1,"div",13),h.Vb(2,"div",14),h.Vb(3,"div",15),h.Vb(4,"i",16),h.Mc(5,"assignment"),h.Ub(),h.Ub(),h.Vb(6,"h4",17),h.Mc(7,"Admin Users"),h.Ub(),h.Ub(),h.Vb(8,"div",18),h.Vb(9,"button",32),h.fc("click",(function(){return h.Bc(i),h.jc(2).addUser()})),h.Vb(10,"i",16),h.Mc(11,"add"),h.Ub(),h.Ub(),h.Ub(),h.Vb(12,"div",20),h.Kc(13,D,22,9,"div",21),h.Ub(),h.Ub(),h.Ub()}if(2&e){var c=h.jc(2);h.Cb(13),h.pc("ngIf",c.tableData2)}}function j(e,t){if(1&e&&(h.Vb(0,"mat-option",57),h.Mc(1),h.Ub()),2&e){var i=t.$implicit;h.pc("value",i.name),h.Cb(1),h.Oc(" ",i.name," ")}}var I=function(e){return{"mat-focused":e}};function x(e,t){if(1&e){var i=h.Wb();h.Vb(0,"div",37),h.Vb(1,"div",2),h.Vb(2,"div",38),h.Vb(3,"div",39),h.Vb(4,"h2",40),h.Mc(5,"Register"),h.Ub(),h.Vb(6,"div",20),h.Vb(7,"div",2),h.Vb(8,"div",41),h.Vb(9,"form",42),h.Vb(10,"div",43),h.Vb(11,"div",44),h.Vb(12,"div",45),h.Vb(13,"span",46),h.Vb(14,"i",16),h.Mc(15,"face"),h.Ub(),h.Ub(),h.Ub(),h.Qb(16,"input",47),h.Ub(),h.Ub(),h.Vb(17,"div",43),h.Vb(18,"div",44),h.Vb(19,"div",45),h.Vb(20,"span",46),h.Vb(21,"i",16),h.Mc(22,"mail"),h.Ub(),h.Ub(),h.Ub(),h.Qb(23,"input",48),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(24,"div",49),h.Vb(25,"form",42),h.Vb(26,"div",43),h.Vb(27,"div",44),h.Vb(28,"div",45),h.Vb(29,"span",46),h.Vb(30,"i",16),h.Mc(31,"face"),h.Ub(),h.Ub(),h.Ub(),h.Qb(32,"input",50),h.Ub(),h.Ub(),h.Vb(33,"div",43),h.Vb(34,"div",44),h.Vb(35,"mat-form-field",51),h.Vb(36,"mat-select",52),h.fc("ngModelChange",(function(e){return h.Bc(i),h.jc(2).accountRole=e})),h.Kc(37,j,2,2,"mat-option",53),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(38,"div",43),h.Vb(39,"div",44),h.Vb(40,"div",45),h.Vb(41,"span",46),h.Vb(42,"i",16),h.Mc(43,"face"),h.Ub(),h.Ub(),h.Ub(),h.Qb(44,"input",54),h.Ub(),h.Ub(),h.Vb(45,"div",24),h.Vb(46,"a",55),h.fc("click",(function(){return h.Bc(i),h.jc(2).registerUser()})),h.Mc(47,"Add User"),h.Ub(),h.Vb(48,"a",56),h.fc("click",(function(){return h.Bc(i),h.jc(2).cancelAddUser()})),h.Mc(49,"Cancel"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub()}if(2&e){var c=h.jc(2);h.Cb(35),h.pc("ngClass",h.tc(3,I,!1===c.focus1)),h.Cb(1),h.pc("ngModel",c.accountRole),h.Cb(1),h.pc("ngForOf",c.roles)}}function L(e,t){if(1&e&&(h.Kc(0,N,14,1,"div",30),h.Vb(1,"div"),h.Kc(2,x,50,5,"div",31),h.Ub()),2&e){var i=h.jc();h.pc("ngIf",i.display_users),h.Cb(2),h.pc("ngIf",!i.display_users)}}function K(e,t){1&e&&(h.Vb(0,"h4",17),h.Mc(1,"Add a new role"),h.Ub())}function P(e,t){1&e&&(h.Vb(0,"h4",17),h.Mc(1,"Update role"),h.Ub())}function E(e,t){if(1&e&&(h.Vb(0,"mat-option",57),h.Mc(1),h.Ub()),2&e){var i=t.$implicit;h.pc("value",i.value),h.Cb(1),h.Oc(" ",i.viewValue," ")}}function T(e,t){1&e&&(h.Vb(0,"div",70),h.ic(),h.Vb(1,"svg",71),h.Qb(2,"circle",72),h.Ub(),h.Ub())}function $(e,t){if(1&e){var i=h.Wb();h.Vb(0,"button",73),h.fc("click",(function(){return h.Bc(i),h.jc(2).roleButtonAction()})),h.Mc(1,"Add"),h.Ub()}}function F(e,t){if(1&e){var i=h.Wb();h.Vb(0,"button",73),h.fc("click",(function(){return h.Bc(i),h.jc(2).roleButtonAction()})),h.Mc(1,"Update"),h.Ub()}}function O(e,t){if(1&e){var i=h.Wb();h.Vb(0,"div",58),h.Vb(1,"div",59),h.Vb(2,"div",12),h.Vb(3,"div",13),h.Vb(4,"div",14),h.Vb(5,"div",15),h.Vb(6,"i",16),h.Mc(7,"mail_outline"),h.Ub(),h.Ub(),h.Kc(8,K,2,0,"h4",60),h.Kc(9,P,2,0,"h4",60),h.Ub(),h.Vb(10,"div",20),h.Vb(11,"form",61),h.Vb(12,"mat-form-field",62),h.Qb(13,"input",63),h.Ub(),h.Vb(14,"mat-form-field",51),h.Vb(15,"mat-select",64),h.fc("ngModelChange",(function(e){return h.Bc(i),h.jc().currentLevel=e})),h.Kc(16,E,2,2,"mat-option",53),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(17,"div",65),h.Kc(18,T,3,0,"div",66),h.Kc(19,$,2,0,"button",67),h.Kc(20,F,2,0,"button",67),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(21,"div",68),h.Vb(22,"button",69),h.fc("click",(function(){return(0,t.close)("Close click")})),h.Mc(23,"Close"),h.Ub(),h.Ub(),h.Ub()}if(2&e){var c=h.jc();h.Cb(8),h.pc("ngIf",c.isAddRole),h.Cb(1),h.pc("ngIf",!c.isAddRole),h.Cb(4),h.qc("value",c.currentRole[2]),h.Cb(1),h.pc("ngClass",h.tc(9,I,!1===c.focus1)),h.Cb(1),h.pc("ngModel",c.currentLevel),h.Cb(1),h.pc("ngForOf",c.levels),h.Cb(2),h.pc("ngIf",c.button_pressed),h.Cb(1),h.pc("ngIf",c.isAddRole),h.Cb(1),h.pc("ngIf",!c.isAddRole)}}function W(e,t){if(1&e&&(h.Vb(0,"mat-option",57),h.Mc(1),h.Ub()),2&e){var i=t.$implicit;h.pc("value",i.name),h.Cb(1),h.Oc(" ",i.name," ")}}function Q(e,t){if(1&e&&(h.Vb(0,"mat-option",57),h.Mc(1),h.Ub()),2&e){var i=t.$implicit;h.pc("value",i.value),h.Cb(1),h.Oc(" ",i.viewValue," ")}}function J(e,t){if(1&e){var i=h.Wb();h.Vb(0,"div",58),h.Vb(1,"div",59),h.Vb(2,"div",12),h.Vb(3,"div",13),h.Vb(4,"div",14),h.Vb(5,"div",15),h.Vb(6,"i",16),h.Mc(7,"mail_outline"),h.Ub(),h.Ub(),h.Vb(8,"h4",17),h.Mc(9,"Update User"),h.Ub(),h.Ub(),h.Vb(10,"div",20),h.Vb(11,"form",61),h.Vb(12,"mat-form-field",51),h.Vb(13,"mat-select",52),h.fc("ngModelChange",(function(e){return h.Bc(i),h.jc().accountRole=e})),h.Kc(14,W,2,2,"mat-option",53),h.Ub(),h.Ub(),h.Vb(15,"mat-form-field",51),h.Vb(16,"mat-select",74),h.fc("ngModelChange",(function(e){return h.Bc(i),h.jc().blocked_status=e})),h.Kc(17,Q,2,2,"mat-option",53),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(18,"div",65),h.Vb(19,"button",73),h.fc("click",(function(){return h.Bc(i),h.jc().userButtonAction()})),h.Mc(20,"Update"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(21,"div",68),h.Vb(22,"button",69),h.fc("click",(function(){return(0,t.close)("Close click")})),h.Mc(23,"Close"),h.Ub(),h.Ub(),h.Ub()}if(2&e){var c=h.jc();h.Cb(12),h.pc("ngClass",h.tc(6,I,!1===c.focus1)),h.Cb(1),h.pc("ngModel",c.accountRole),h.Cb(1),h.pc("ngForOf",c.roles),h.Cb(1),h.pc("ngClass",h.tc(8,I,!1===c.focus1)),h.Cb(1),h.pc("ngModel",c.blocked_status),h.Cb(1),h.pc("ngForOf",c.blocks_data)}}var q=[{path:"",children:[{path:"",component:function(){function e(e,t,i,c){this.modalService=e,this.router=t,this.previewProgressSpinner=i,this.cdr=c,this.services=new l.a,this.roles=[],this.config=new b.a,this.data=[],this.data2=[],this.closeResult="",this.isAddRole=!0,this.currentRole=[],this.accountRole="",this.currentUserEmail="",this.display_users=!0,this.button_pressed=!1,this._role="",this.currentLevel=[],this.blocked_status="",this.blocks_data=[{value:"false",viewValue:"False"},{value:"true",viewValue:"True"}],this.selectTheme="primary",this.levels=[{value:"Customer",viewValue:"Customer"},{value:"Skill-Sets",viewValue:"Skill-Sets"},{value:"Technician",viewValue:"Technician"},{value:"New-Ticket",viewValue:"New-Ticket"},{value:"Jobs",viewValue:"Jobs"},{value:"App-Settings",viewValue:"App-Settings"},{value:"Assigned-Jobs",viewValue:"Assigned-Jobs"},{value:"Logs",viewValue:"Logs"}],this.tableData1={headerRow:["#","Name","Access Levels","Actions"],dataRows:this.data},this.tableData2={headerRow:["#","Dp","Name","Email Address","Position","Role","Blocked","Actions"],dataRows:this.data2}}return e.prototype.getRoles=function(){var e=this;r.firestore().collection("roles").onSnapshot((function(t){e.data=[],e.roles=[];var i=0;t.forEach((function(t){var c=t.data();e.roles.push(c),e.data.push([""+(i+1),c.id,c.name,c.access_levels,"btn-link"]),i+=1})),e.tableData1={headerRow:["#","Name","Access Levels","Actions"],dataRows:e.data}}))},e.prototype.getUsers=function(){var e=this;r.firestore().collection("users").where("user_type","==","admin").onSnapshot((function(t){e.data2=[];var i=0;t.forEach((function(t){var c=t.data();e.data2.push([""+(i+1),c.image,c.id,c.name,c.email,c.position,c.role,c.access_levels,""+c.blocked,"btn-link"]),i+=1})),e.tableData2={headerRow:["#","Dp","Name","Email Address","Position","Role","Blocked","Actions"],dataRows:e.data2}}))},e.prototype.ngOnInit=function(){var e=this,t=localStorage.getItem("email");this.services.getUserData(t).then((function(t){e._role=t.role,"Administrator"===t.role?(e.getRoles(),e.getUsers()):e.getUsers()}))},e.prototype.open=function(e,t,i){var c=this;"sm"===i&&"modal_mini"===t?this.modalService.open(e,{windowClass:"modal-mini",size:"sm",centered:!0}).result.then((function(e){c.closeResult="Closed with: $result"}),(function(e){c.closeResult="Dismissed $this.getDismissReason(reason)"})):""===i&&"Notification"===t?this.modalService.open(e,{windowClass:"modal-danger",centered:!0}).result.then((function(e){c.closeResult="Closed with: $result"}),(function(e){c.closeResult="Dismissed $this.getDismissReason(reason)"})):this.modalService.open(e,{centered:!0}).result.then((function(e){c.closeResult="Closed with: $result"}),(function(e){c.closeResult="Dismissed $this.getDismissReason(reason)"}))},e.prototype.addUser=function(){this.display_users=!1},e.prototype.cancelAddUser=function(){this.display_users=!0},e.prototype.registerUser=function(){var e=this,t=document.getElementById("account_name").value,i=document.getElementById("email").value,c=document.getElementById("position").value,n=document.getElementById("phone").value,o=this.accountRole;if(""!=t&&""!=i&&""!=c&&""!=n&&""!=this.accountRole)if(n.startsWith("+234")){var s=this.roles.filter((function(e,t,i){return e.name==o}));this.previewProgressSpinner.open({hasBackdrop:!0},p.a);var a={id:r.database().ref().push().key,access_levels:s[0].access_levels,blocked:!1,email:i.toLowerCase(),image:"./assets/img/default-avatar.png",name:t,user_position:c,msgID:[],phone:n,role:this.accountRole,user_type:"admin"};r.firestore().collection("users").doc(i.toLowerCase()).set(a).then((function(t){e.previewProgressSpinner.close(),e.config.displayMessage("User successfully created.",!0),e.display_users=!0,e.accountRole=""})).catch((function(t){e.previewProgressSpinner.close(),e.config.displayMessage(""+t,!1)}))}else this.config.displayMessage("Please input correct address. Must start with +234",!1);else this.config.displayMessage("Please enter all fields",!1)},e.prototype.editUser=function(e){var t=this;"Administrator"!=e[6]?(this.currentUserEmail=e[4],this.blocked_status=e[8],this.accountRole=e[6],this.cdr.detectChanges(),setTimeout((function(){t.open(t.userContainer,"","")}))):this.config.displayMessage("This user can't be edited",!1)},e.prototype.userButtonAction=function(){var e=this;if(""!=this.accountRole&&""!=this.blocked_status){this.previewProgressSpinner.open({hasBackdrop:!0},p.a);var t=this.accountRole,i=this.roles.filter((function(e,i,c){return e.name==t}));r.firestore().collection("users").doc(this.currentUserEmail).update({blocked:"true"==this.blocked_status,role:t,access_levels:i[0].access_levels}).then((function(t){e.previewProgressSpinner.close(),e.modalService.dismissAll(),e.config.displayMessage("User successfully updated.",!0),e.accountRole="",e.blocked_status="",e.currentUserEmail=""})).catch((function(t){e.previewProgressSpinner.close(),e.config.displayMessage(""+t,!1)}))}else this.config.displayMessage("All fields must be filled",!1)},e.prototype.deleteUser=function(e){var t=this;if("Administrator"!=e[6]){var i=""+e[4];u()({title:"Delete Alert",text:"Are you sure about deleting this user?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it",confirmButtonClass:"btn btn-success",cancelButtonClass:"btn btn-danger",buttonsStyling:!1}).then((function(e){e.value?r.firestore().collection("users").doc(i).delete().then((function(e){t.config.displayMessage("Successfully deleted",!0)})).catch((function(e){t.config.displayMessage(""+e,!1)})):u()({title:"Cancelled",text:"Deletion not successful",type:"error",confirmButtonClass:"btn btn-info",buttonsStyling:!1}).catch(u.a.noop)}))}else this.config.displayMessage("This role can't be deleted",!1)},e.prototype.editRole=function(e){var t=this;"Administrator"!=e[2]?(this.isAddRole=!1,this.currentRole=e,this.currentLevel=e[3].split(","),this.cdr.detectChanges(),setTimeout((function(){t.open(t.roleContainer,"","")}))):this.config.displayMessage("This role can't be edited",!1)},e.prototype.deleteRole=function(e,t){var i=this;"Administrator"!=t?u()({title:"Delete Alert",text:"Are you sure about deleting this role?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it",confirmButtonClass:"btn btn-success",cancelButtonClass:"btn btn-danger",buttonsStyling:!1}).then((function(t){t.value?r.firestore().collection("roles").doc(e).delete().then((function(e){i.config.displayMessage("Successfully deleted",!0)})).catch((function(e){i.config.displayMessage(""+e,!1)})):u()({title:"Cancelled",text:"Deletion not successful",type:"error",confirmButtonClass:"btn btn-info",buttonsStyling:!1}).catch(u.a.noop)})):this.config.displayMessage("This role can't be deleted",!1)},e.prototype.addRole=function(){var e=this;this.isAddRole=!0,this.currentRole=[],this.currentLevel=[],this.cdr.detectChanges(),setTimeout((function(){e.open(e.roleContainer,"","")}))},e.prototype.roleButtonAction=function(){var e=this,t=document.getElementById("role_name").value;if(""!=t)if(0!=this.currentLevel.length)if(this.isAddRole){this.button_pressed=!0;var i={name:t,id:c=r.database().ref().push().key,access_levels:this.currentLevel.join(",")};r.firestore().collection("roles").doc(c).set(i).then((function(t){e.modalService.dismissAll(),e.button_pressed=!1,e.isAddRole=!0,e.currentLevel=[],e.config.displayMessage("Successfully created",!0)})).catch((function(t){e.config.displayMessage(""+t,!1)}))}else{var c;this.button_pressed=!0,i={name:t,id:c=this.currentRole[1],access_levels:this.currentLevel.join(",")},r.firestore().collection("roles").doc(c).update(i).then((function(t){e.modalService.dismissAll(),e.button_pressed=!1,e.isAddRole=!0,e.currentLevel=[],e.config.displayMessage("Successfully updated",!0)})).catch((function(t){e.config.displayMessage(""+t,!1)}))}else this.config.displayMessage("Please select one or two access levels for this role",!1);else this.config.displayMessage("Please enter the name of this role",!1)},e.\u0275fac=function(t){return new(t||e)(h.Pb(a.a),h.Pb(c.d),h.Pb(f.b),h.Pb(h.h))},e.\u0275cmp=h.Jb({type:e,selectors:[["app-settings"]],viewQuery:function(e,t){var i;1&e&&(h.Qc(C,!0),h.Qc(y,!0)),2&e&&(h.wc(i=h.gc())&&(t.roleContainer=i.first),h.wc(i=h.gc())&&(t.userContainer=i.first))},decls:14,vars:2,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-lg-12"],[1,"h2"],["type","pills",1,"custom-tab-content","flex-column","flex-md-row",3,"justify"],["title","USER ROLES",4,"ngIf"],["title","ADMIN USERS"],["ngbTabContent",""],["role",""],["user",""],["title","USER ROLES"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-rose","card-header-icon"],[1,"card-icon"],[1,"material-icons"],[1,"card-title"],[1,"td-actions","text-right"],["mat-raised-button","","type","button","ngbAutofocus","",1,"btn","btn-primary","btn-round",3,"click"],[1,"card-body"],["class","table-responsive",4,"ngIf"],[1,"table-responsive"],[1,"table"],[1,"text-center"],[1,"text-right"],[4,"ngFor","ngForOf"],["class","td-actions text-right",4,"ngIf"],["mat-raised-button","","type","button","data-toggle","tooltip","title","edit","data-placement","bottom",3,"click"],["mat-raised-button","","type","button","data-toggle","tooltip","title","delete","data-placement","bottom",3,"click"],["class","col-md-12",4,"ngIf"],["class","container",4,"ngIf"],["mat-raised-button","","type","button",1,"btn","btn-primary","btn-round",3,"click"],[1,"user"],[1,"photo"],[3,"src"],["mat-raised-button","","type","button","data-toggle","tooltip","title","delete","data-placement","bottom",3,"class","click",4,"ngIf"],[1,"container"],[1,"col-md-12","ml-auto","mr-auto"],[1,"card","card-signup"],[1,"card-title","text-center"],[1,"col-md-5","ml-auto"],["method","","action","",1,"form"],[1,"form-group","has-default"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],["type","text","placeholder","Account Name","id","account_name",1,"form-control"],["type","email","placeholder","Email Address","id","email",1,"form-control"],[1,"col-md-5","mr-auto"],["type","text","placeholder","Position","id","position",1,"form-control"],[3,"ngClass"],["focused","true","placeholder","Access Role","name","Roles","ariaLabel","roles[0]",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","tel","value","+234","placeholder","Phone Number","id","phone",1,"form-control"],[1,"btn","btn-fill","btn-primary",3,"click"],[1,"btn","btn-fill","btn-danger",3,"click"],[3,"value"],[1,"modal-content"],[1,"modal-body"],["class","card-title",4,"ngIf"],["method","#","action","#"],[1,"example-full-width"],["matInput","","placeholder","Role Name","name","role_nm","id","role_name","type","text",3,"value"],["focused","true","multiple","","placeholder","Access Levels","name","Levels","ariaLabel","levels[0]",3,"ngModel","ngModelChange"],[1,"card-footer"],["class","loader",4,"ngIf"],["mat-raised-button","","type","submit","class","btn btn-fill btn-rose",3,"click",4,"ngIf"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],[1,"loader"],["viewBox","25 25 50 50",1,"circular"],["cx","50","cy","50","r","20","fill","none","stroke-width","2","stroke-miterlimit","10",1,"path"],["mat-raised-button","","type","submit",1,"btn","btn-fill","btn-rose",3,"click"],["placeholder","Blocked Status","name","Blocked","ariaLabel","blocks_data[0]",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(h.Vb(0,"div",0),h.Vb(1,"div",1),h.Vb(2,"div",2),h.Vb(3,"div",3),h.Vb(4,"p",4),h.Mc(5,"Administrative Settings"),h.Ub(),h.Vb(6,"ngb-tabset",5),h.Kc(7,A,2,0,"ngb-tab",6),h.Vb(8,"ngb-tab",7),h.Kc(9,L,3,2,"ng-template",8),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Kc(10,O,24,11,"ng-template",null,9,h.Lc),h.Kc(12,J,24,10,"ng-template",null,10,h.Lc)),2&e&&(h.Cb(6),h.pc("justify","center"),h.Cb(1),h.pc("ngIf","Administrator"===t._role))},directives:[a.e,n.m,a.c,a.d,v.b,n.l,o.A,o.r,o.s,m.c,n.k,g.a,o.q,o.t,U.n,V.b],styles:[".user[_ngcontent-%COMP%]   .photo[_ngcontent-%COMP%]{width:34px;height:34px;overflow:hidden;z-index:5;border-radius:50%}"]}),e}()}]}],z=function(){function e(){}return e.\u0275mod=h.Nb({type:e}),e.\u0275inj=h.Mb({factory:function(t){return new(t||e)},imports:[[c.g.forChild(q),n.c,o.l,s.b,o.x,a.b]]}),e}()}}]);